---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```


# **ARcenso** <img src="man/figures/logo.png" align="right" height="200" style="margin-right: 20px; border: none; box-shadow: none; outline: none; text-decoration: none;"/>


<br clear="left"/>

<!-- badges: start -->

[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.15192435.svg)](https://doi.org/10.5281/zenodo.15192435)
[![R-CMD-check](https://github.com/SoyAndrea/arcenso/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/SoyAndrea/arcenso/actions/workflows/R-CMD-check.yaml)
[![Codecov test coverage](https://codecov.io/gh/SoyAndrea/arcenso/graph/badge.svg)](https://app.codecov.io/gh/SoyAndrea/arcenso)
<!-- badges: end -->


# **Data from Argentinaâ€™s Population Census**

## Overview

This project was supported by the [rOpenSci Champions Program](https://ropensci.org/blog/2024/02/15/champions-program-champions-2024/) 2023-2024, with [Andrea Gomez Vargas](https://github.com/SoyAndrea) as the main developer and [Emanuel Ciardullo](https://github.com/ECiardullo) as co-author.

**ARcenso** is a package under development designed to democratize access to official data from Argentina's National Population Censuses produced by the National Institute of Statistics and Census (INDEC).

Currently, historical census results (1970, 1980, 1991, 2001, 2010, and 2022) are scattered across physical books, PDFs, Excel files, or closed systems like REDATAM. This fragmentation makes it difficult to perform historical analysis or serial comparisons.

**ARcenso** aims to make this data available, homogenized, and ready to use in R.

> **Note:** The available data is being added in stages. Currently, the package is in **Stage 1**.


## Data Availability Roadmap

| Stage |  Census years                       |  Geographic level                      | Notes                           |
|-------|-------------------------------------|----------------------------------------|----------------------------------|
| **1**    | 1970                                | National and 24 jurisdictions          | First available census data  |
|       | 1980                                | National level                         | Jurisdiction-level data not available|
| 2    | 1991 and 2001                          | National level                         | Coming soon                                  |
| 3    | 2010                                | National level                         |    Coming soon                              |
| 4    | 2022                                | National level                         |  Coming soon                                |
| 5    | 1980 and 1991                         | 24 jurisdictions                       | Coming soon                                 |
| 6    | 2001 and 2010                         | 24 jurisdictions                       | Coming soon                                 |
| 7    | 2022                                | 24 jurisdictions                       |  Coming soon                                |



## Installation

You can install the development version of arcenso from [GitHub](https://github.com/) with:

``` r
# install.packages("remotes")
# if you do not have remotes installed

remotes::install_github("SoyAndrea/arcenso")
```

## Main functions


**arcenso** provides three core tools:


- `arcenso_gui()`: Launches a Shiny app to query and visualize available tables interactively.

- `check_repository()`: Reports the tables currently available in the package based on search criteria.

- `get_census()`: Retrieves the actual datasets as a list of data frames.


## Usage

First, load the library:

```{r setup}
library(arcenso)
```


### Interactive Exploration (Shiny App)

The easiest way to discover available data is through the built-in interface. You can browse tables, filter by geographic level, and copy the exact Table ID you need.

To launch the application locally, run:

```{r shiny-app, eval = FALSE}
# Launch the interactive Shiny application
arcenso_gui()
```


Look at the interactive interface in action:

![Interactive Exploration with ARcenso](man/figures/arcenso_gui.png)




### Exploring the Repository

Before downloading data, you can check which tables are available for a specific year, topic, and geographic level using `check_repository()`:

```{r exploration}
# Check available tables for 1970 related to "educacion"
check_repository(
  year = 1970,
  topic = "educacion"
)
```


### Accessing Census Data

Once you have identified the table you need (either by ID or topic), use `get_census()` to retrieve the data.


#### Get specific table by ID (Recommended)

This is the most robust method for reproducible research.

```{r data-access}
# Download specific table (e.g., Structure of Population, National level)
census_data <- get_census(
  year = 1970,
  id = "1970_00_estructura_01"
)

census_data
```


#### Search by topic and geography

You can also filter directly while requesting data. 


```{r}
# Download 1970 housing data for Tierra del Fuego (geo_code "94")
table_hab_94 <- get_census(
  year = 1970,
  topic = "habitacional",
  geo_code = "94"
)

table_hab_94
```

## Reference Dictionaries

Don't know the geographic code for a province? Want to see all available topics?
 The package includes built-in datasets for quick reference.


### Geographic Codes (`geo_code`)


Use `geo_metadata` to look up the INDEC codes required for filtering.


```{r}
# View the full table of geographic codes
head(arcenso::geo_metadata)
```


### Available Topics (`census_metadata`)

You can list all unique topics available in the census metadata using standard R commands:

```{r}
# List all unique topics

unique(arcenso::census_metadata$tema)
```
## Acknowledgments

This package was developed as part of the **[rOpenSci Champions Program](https://ropensci.org/champions/) (2023-2024)**.

We would like to express our special gratitude to:

* **[Yanina Bellini Saibene](https://github.com/yabellini)** (Program Leader) for her constant support, accompaniment, and guidance in structuring the project workflow.

* **[Luis D. Verde Arregoitia](https://github.com/luisDVA)** for his invaluable mentorship, patience, and guidance throughout the development process.

* **[Tamara Giselle Derner](https://www.linkedin.com/in/tamaraderner/)** for designing the hex sticker and finding the perfect symbol to give the package a true national identity.

* The **rOpenSci community** for fostering diverse participation, and the wider **R community** for their interest and company along the way.


## Citation

If you use **ARcenso** in your research or projects, please cite it as follows:

Gomez Vargas, A., & Ciardullo, E. (2025). arcenso: Data from Argentina's Population Census. R package version 0.1.0. Available at: https://soyandrea.github.io/arcenso/


You can also get the BibTeX entry by running:

```{r, eval=FALSE}
citation("arcenso")
```


```bibtex
`r paste0("@Manual{,
  title = {", desc::desc_get_field("Package"), ": ", desc::desc_get_field("Title"), "},
  author = {", desc::desc_get_author(), "},
  year = {", format(Sys.Date(), "%Y"), "},
  note = {R package version ", desc::desc_get_version(), "},
  url = {", desc::desc_get_field("URL"), "},
}")`
```


## Contributing

We welcome contributions in both **English** and **Spanish**. Please see our [Contributing Guidelines](.github/CONTRIBUTING.md) for more details.


## Code of Conduct

Please note that the `arcenso` project is released with a [Contributor Code of Conduct](.github/CODE_OF_CONDUCT.md). By contributing to this project, you agree to abide by its terms.

